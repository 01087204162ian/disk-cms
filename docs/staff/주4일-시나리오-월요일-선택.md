# 주 4일 근무제 시나리오: 월요일 선택 (2025-12-28 설정)

**작성일**: 2025-12-28  
**사용자**: sj2@simg.kr  
**설정일**: 2025년 12월 28일 (일요일)  
**선택한 휴무일**: 월요일(1)

---

## 1. 설정 정보

### 1.1 설정 값
```json
{
  "base_off_day": 1,  // 월요일
  "cycle_start_date": "2025-12-29",  // 다음 주 월요일
  "initial_selection_date": "2025-12-28"  // 오늘
}
```

### 1.2 cycle_start_date 계산
- 오늘이 **일요일(2025-12-28)**이므로
- **`cycle_start_date = 2025-12-29`** (다음 주 월요일)로 설정

---

## 2. 1주차 (2025-12-29 월 ~ 2026-01-04 일) 분석

### 2.1 주 구성
- **월요일 (12-29)**: 원래 휴무일 (base_off_day = 1)
- **화요일 (12-30)**: 근무일
- **수요일 (12-31)**: 근무일
- **목요일 (01-01)**: **공휴일** (신정) ⚠️
- **금요일 (01-02)**: 근무일
- **토요일 (01-03)**: 주말
- **일요일 (01-04)**: 주말

### 2.2 공휴일 포함 여부
- **1월 1일 (목요일)**이 공휴일이므로
- **이 주는 공휴일 포함 주**입니다
- **주 4일 근무가 해제**됩니다

### 2.3 예상 결과

#### ❌ 주 4일 근무 적용 안 됨
- **이유**: 1월 1일 공휴일이 포함되어 있음
- **규칙**: 공휴일이 포함된 주는 해당 주만 주 4일 근무 해제

#### 모든 평일이 근무일로 처리
```json
{
  "date": "2025-12-29",
  "day_of_week": 1,
  "off_day": 1,
  "is_off_day": false,  // ❌ 원래 휴무일이지만 공휴일 포함 주
  "is_holiday": false
},
{
  "date": "2025-12-30",
  "day_of_week": 2,
  "off_day": 1,
  "is_off_day": false,  // 공휴일 포함 주
  "is_holiday": false
},
{
  "date": "2025-12-31",
  "day_of_week": 3,
  "off_day": 1,
  "is_off_day": false,  // 공휴일 포함 주
  "is_holiday": false
},
{
  "date": "2026-01-01",
  "day_of_week": 4,
  "off_day": 1,
  "is_off_day": false,  // 공휴일
  "is_holiday": true
},
{
  "date": "2026-01-02",
  "day_of_week": 5,
  "off_day": 1,
  "is_off_day": false,  // 공휴일 포함 주
  "is_holiday": false
}
```

---

## 3. 2주차 (2026-01-05 월 ~ 2026-01-11 일) 분석

### 3.1 주 구성
- **월요일 (01-05)**: **휴무일** ✅ (base_off_day = 1)
- **화요일 (01-06)**: 근무일
- **수요일 (01-07)**: 근무일
- **목요일 (01-08)**: 근무일
- **금요일 (01-09)**: 근무일
- **토요일 (01-10)**: 주말
- **일요일 (01-11)**: 주말

### 3.2 공휴일 포함 여부
- 공휴일 없음
- **주 4일 근무 정상 적용** ✅

### 3.3 예상 결과

#### ✅ 주 4일 근무 적용
- 월요일이 휴무일로 정상 표시됨
- 나머지 평일은 근무일

```json
{
  "date": "2026-01-05",
  "day_of_week": 1,
  "off_day": 1,
  "is_off_day": true,  // ✅ 정상 휴무일
  "is_holiday": false
},
{
  "date": "2026-01-06",
  "day_of_week": 2,
  "off_day": 1,
  "is_off_day": false,  // 근무일
  "is_holiday": false
},
{
  "date": "2026-01-07",
  "day_of_week": 3,
  "off_day": 1,
  "is_off_day": false,  // 근무일
  "is_holiday": false
},
{
  "date": "2026-01-08",
  "day_of_week": 4,
  "off_day": 1,
  "is_off_day": false,  // 근무일
  "is_holiday": false
},
{
  "date": "2026-01-09",
  "day_of_week": 5,
  "off_day": 1,
  "is_off_day": false,  // 근무일
  "is_holiday": false
}
```

---

## 4. 전체 사이클 요약

### 사이클 0 (1-4주차) - 2025-12-29 ~ 2026-01-25

**1주차 (2025-12-29 ~ 2026-01-04)**
- 월(12-29): ❌ 근무일 (공휴일 포함 주)
- **공휴일**: 1월 1일 (목요일)
- **주 4일 근무 해제**

**2주차 (2026-01-05 ~ 2026-01-11)**
- 월(01-05): ✅ 휴무일
- **주 4일 근무 정상 적용**

**3주차 (2026-01-12 ~ 2026-01-18)**
- 월(01-12): ✅ 휴무일
- **주 4일 근무 정상 적용**

**4주차 (2026-01-19 ~ 2026-01-25)**
- 월(01-19): ✅ 휴무일
- **주 4일 근무 정상 적용**

### 사이클 1 (5-8주차) - 2026-01-26 ~ 2026-02-22

**5주차 (2026-01-26 ~ 2026-02-01)** - 시프트 시작
- 월(01-26): ❌ 근무일 (시프트: 월→금)
- 금(01-30): ✅ 휴무일 (시프트 적용)

**6주차 (2026-02-02 ~ 2026-02-08)**
- 금(02-06): ✅ 휴무일

**7주차 (2026-02-09 ~ 2026-02-15)**
- 금(02-13): ✅ 휴무일

**8주차 (2026-02-16 ~ 2026-02-22)**
- 금(02-20): ✅ 휴무일

---

## 5. 핵심 포인트

### 5.1 1주차 특수 상황
- **1월 1일 공휴일**이 포함되어 있음
- **주 4일 근무 해제**
- 월요일이 원래 휴무일이지만 **근무일로 처리**됨

### 5.2 2주차부터 정상 적용
- 공휴일 없음
- 월요일이 **정상적으로 휴무일**로 표시됨
- 주 4일 근무 정상 적용

### 5.3 시프트 순환
- **사이클 0 (1-4주차)**: 월요일 휴무 고정
- **사이클 1 (5-8주차)**: 금요일 휴무 (시프트)

---

## 6. API 응답 예시

### 6.1 my-schedule API (2025년 12월)
```json
{
  "success": true,
  "data": {
    "year": 2025,
    "month": 12,
    "has_holiday_in_week": true,
    "current_cycle": {
      "cycle_number": 0,
      "week_range": "1-4주차",
      "off_day": 1,
      "off_day_name": "월요일"
    },
    "daily_schedule": [
      {
        "date": "2025-12-29",
        "day_of_week": 1,
        "off_day": 1,
        "is_off_day": false,  // ❌ 공휴일 포함 주
        "is_holiday": false
      }
    ]
  }
}
```

### 6.2 my-schedule API (2026년 1월)
```json
{
  "success": true,
  "data": {
    "year": 2026,
    "month": 1,
    "has_holiday_in_week": true,
    "current_cycle": {
      "cycle_number": 0,
      "week_range": "1-4주차",
      "off_day": 1,
      "off_day_name": "월요일"
    },
    "daily_schedule": [
      {
        "date": "2026-01-01",
        "day_of_week": 4,
        "off_day": 1,
        "is_off_day": false,  // 공휴일
        "is_holiday": true
      },
      {
        "date": "2026-01-05",
        "day_of_week": 1,
        "off_day": 1,
        "is_off_day": true,  // ✅ 정상 휴무일
        "is_holiday": false
      }
    ]
  }
}
```

---

## 7. 결론

### ❌ 12월 29일 주는 주 4일 근무 적용 안 됨
- **이유**: 1월 1일 공휴일이 포함되어 있음
- **결과**: 모든 평일이 근무일로 처리됨
- **월요일도 원래 휴무일이지만 근무일로 처리됨**

### ✅ 2주차부터 정상 적용
- 공휴일 없음
- 월요일이 정상적으로 휴무일로 표시됨
- 주 4일 근무 정상 적용

---

**문서 버전**: 1.0  
**최종 업데이트**: 2025-12-28

