# 주4일 근무제 시스템 테스트 체크리스트

**작성일**: 2025-01-XX  
**버전**: 1.0

---

## 📋 테스트 항목

### 1. 기본 UI 표시 테스트

- [ ] 페이지 로드 시 모킹 데이터가 정상적으로 표시되는가?
- [ ] 스케줄 헤더에 년월이 올바르게 표시되는가?
- [ ] 주기 정보 배지(1-4주차)가 표시되는가?
- [ ] 현재 휴무일이 올바르게 표시되는가?
- [ ] 요약 카드(근무일, 근무시간, 반차, 휴무일)가 표시되는가?

### 2. 4주 주기 순환 정보 테스트

- [ ] 시프트 정보 섹션에 "4주 주기 반대 방향 순환 시스템" 설명이 표시되는가?
- [ ] 현재 주기 정보(예: "1-4주차 (금요일 휴무)")가 올바르게 표시되는가?
- [ ] 다음 주기 정보(예: "목요일 휴무 - 2025-02-03부터")가 올바르게 표시되는가?
- [ ] 순환 방향 설명이 표시되는가?

### 3. 캘린더 표시 테스트

- [ ] 캘린더가 올바르게 생성되는가?
- [ ] 평일(월~금)에 근무일/휴무일이 올바르게 표시되는가?
- [ ] 주말(토~일)이 올바르게 표시되는가?
- [ ] 오늘 날짜가 하이라이트되는가?
- [ ] 4주 주기로 계산된 휴무일이 올바르게 표시되는가?

### 4. 반차 신청 모달 테스트

- [ ] 반차 신청 버튼 클릭 시 모달이 열리는가?
- [ ] 날짜 선택 필드가 표시되는가?
- [ ] 반차 종류 선택(오전/오후)이 가능한가?
- [ ] 긴급 여부 필드가 제거되었는가?
- [ ] 같은 주 검증 메시지가 표시되는가?
- [ ] 안내사항이 올바르게 표시되는가? (이월 불가 안내)

### 5. 반차 검증 로직 테스트

- [ ] 같은 주(월~일) 내에서 반차 신청 시 검증 통과하는가?
- [ ] 다른 주에 반차 신청 시 경고 메시지가 표시되는가?
- [ ] 검증 실패 시 신청이 차단되는가?

### 6. 일시적 변경 모달 테스트

- [ ] 일시적 변경 버튼이 표시되는가?
- [ ] 버튼 클릭 시 모달이 열리는가?
- [ ] 주 선택 필드가 표시되는가?
- [ ] 원래 휴무일이 자동으로 표시되는가?
- [ ] 변경할 휴무일 선택이 가능한가?
- [ ] 업무 대체자 선택이 가능한가?
- [ ] 변경 사유 입력이 가능한가?
- [ ] 안내사항이 올바르게 표시되는가?

### 7. 수습 기간 체크 테스트

- [ ] 입사일이 3개월 미만인 경우 수습 기간 안내가 표시되는가?
- [ ] 수습 기간 중 일시적 변경 버튼이 비활성화되는가?
- [ ] 입사일이 3개월 이상인 경우 안내가 표시되지 않는가?

### 8. 공휴일 체크 테스트

- [ ] 공휴일이 포함된 주에 안내가 표시되는가?
- [ ] 공휴일 포함 주에 일시적 변경 버튼이 비활성화되는가?
- [ ] 공휴일이 없는 주에는 안내가 표시되지 않는가?

### 9. 시프트 안내 테스트

- [ ] 시프트 안내 버튼 클릭 시 알림이 표시되는가?
- [ ] 알림 내용에 4주 주기 정보가 포함되는가?
- [ ] 반대 방향 순환 설명이 포함되는가?

### 10. 캘린더 네비게이션 테스트

- [ ] 이전 달 버튼 클릭 시 이전 달로 이동하는가?
- [ ] 다음 달 버튼 클릭 시 다음 달로 이동하는가?
- [ ] 월 변경 시 캘린더가 올바르게 업데이트되는가?
- [ ] 월 변경 시 스케줄 정보가 올바르게 표시되는가?

---

## 🐛 발견된 버그 및 수정 사항

### 수정 완료

1. ✅ `generateCalendar` 함수에서 `scheduleStatus`, `scheduleText` 변수 선언 누락 수정
2. ✅ `window.currentScheduleData.work_days` 경로 오류 수정 → `window.currentScheduleData.schedule.work_days`
3. ✅ `dayOfWeek` 계산 로직 수정 (주말 처리)
4. ✅ `calculateCycleInfo` 함수의 주차 범위 계산 로직 개선
5. ✅ `checkProbationPeriod` 함수의 함수 호출 방식 개선

### 확인 필요

- [ ] 모킹 데이터가 실제로 로드되는지 확인
- [ ] 브라우저 콘솔에 오류가 없는지 확인
- [ ] 모든 함수가 전역 스코프에서 접근 가능한지 확인

---

## 📝 테스트 시나리오

### 시나리오 1: 정상적인 스케줄 표시

1. 페이지 로드
2. 모킹 데이터로 스케줄 정보 표시 확인
3. 현재 주기 정보 확인
4. 캘린더에 휴무일 표시 확인

### 시나리오 2: 반차 신청 (같은 주)

1. 반차 신청 버튼 클릭
2. 같은 주 내 날짜 선택
3. 반차 종류 선택
4. 사유 입력
5. 신청 버튼 클릭
6. 검증 통과 확인

### 시나리오 3: 반차 신청 (다른 주)

1. 반차 신청 버튼 클릭
2. 다른 주 날짜 선택
3. 경고 메시지 표시 확인
4. 신청 차단 확인

### 시나리오 4: 일시적 변경 신청

1. 일시적 변경 버튼 클릭
2. 주 선택 (월요일)
3. 변경할 휴무일 선택
4. 사유 입력
5. 신청 버튼 클릭
6. 모킹 응답 확인

---

## 🔍 디버깅 팁

### 콘솔 확인 사항

```javascript
// 모킹 데이터 확인
console.log('USE_MOCK_DATA:', window.USE_MOCK_DATA);
console.log('currentScheduleData:', window.currentScheduleData);

// 함수 존재 확인
console.log('calculateOffDayByWeekCycle:', typeof calculateOffDayByWeekCycle);
console.log('isProbationPeriod:', typeof isProbationPeriod);
console.log('getDayName:', typeof getDayName);
```

### 일반적인 오류

1. **함수를 찾을 수 없음**: 모킹 파일이 로드되지 않았을 수 있음
2. **데이터가 표시되지 않음**: `window.currentScheduleData`가 설정되지 않았을 수 있음
3. **캘린더가 표시되지 않음**: `generateCalendar` 함수가 호출되지 않았을 수 있음

---

**문서 버전**: 1.0  
**최종 업데이트**: 2025-01-XX

