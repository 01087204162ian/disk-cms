# 서버 포트 충돌 해결 가이드

**문제**: `Error: listen EADDRINUSE: address already in use :::3000`

---

## 해결 방법

### 방법 1: 실행 중인 프로세스 종료 (권장)

#### Linux/Mac
```bash
# 포트 3000을 사용하는 프로세스 찾기
lsof -ti:3000

# 또는
netstat -tulpn | grep :3000

# 프로세스 종료
kill -9 $(lsof -ti:3000)

# 또는 특정 PID 종료
kill -9 <PID>
```

#### Windows
```powershell
# 포트 3000을 사용하는 프로세스 찾기
netstat -ano | findstr :3000

# 프로세스 종료 (PID 확인 후)
taskkill /PID <PID> /F
```

### 방법 2: PM2 사용 중인 경우
```bash
# PM2 프로세스 확인
pm2 list

# 프로세스 종료
pm2 stop all
# 또는
pm2 delete <app-name>
```

### 방법 3: 다른 포트 사용

`.env` 파일에서 포트 변경:
```bash
PORT=3001
```

또는 `server.js`에서 직접 변경:
```javascript
const PORT = process.env.PORT || 3001;
```

---

## 빠른 해결 스크립트

### Linux/Mac
```bash
#!/bin/bash
# kill-port-3000.sh
PID=$(lsof -ti:3000)
if [ -n "$PID" ]; then
    echo "포트 3000을 사용하는 프로세스 종료: $PID"
    kill -9 $PID
    echo "완료"
else
    echo "포트 3000을 사용하는 프로세스가 없습니다."
fi
```

### Windows
```powershell
# kill-port-3000.ps1
$process = Get-NetTCPConnection -LocalPort 3000 -ErrorAction SilentlyContinue
if ($process) {
    $pid = $process.OwningProcess
    Stop-Process -Id $pid -Force
    Write-Host "포트 3000을 사용하는 프로세스 종료: $pid"
} else {
    Write-Host "포트 3000을 사용하는 프로세스가 없습니다."
}
```

---

## 예방 방법

1. **서버 종료 시 정리**: `Ctrl+C`로 서버 종료
2. **PM2 사용**: 프로세스 관리 도구 사용
3. **포트 확인**: 서버 시작 전 포트 사용 여부 확인

---

**문서 버전**: 1.0  
**최종 업데이트**: 2025-12-28

