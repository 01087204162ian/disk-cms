# 상품 페이지 작성 가이드 (sj-template-loader 기반)

## 1. 기본 원칙
- 공통 리소스 재사용: Google Fonts, Font Awesome, Bootstrap, `/css/sj-styles.css`
- 로더: `/js/sj-template-loader.js` + `initializePage('<pageId>')`
- 헤더/사이드바/로딩 오버레이는 템플릿에 포함  페이지별 본문만 채움
- `data-menu`(사이드바)와 `initializePage`의 pageId를 반드시 일치

## 2. 파일 생성 절차
1) **템플릿 복사**: `public/template/sj-page-template.html`  `public/pages/<카테고리>/<파일명>.html`
2) **메타 수정**:
   - `<title>`: `보험 CMS | <상품명> - <화면명>`
   - 스크립트 하단: `initializePage('<pageId>')`
3) **본문 채우기** (`{{CONTENT}}` 자리):
   - 카드 헤더(제목/설명, 버튼)
   - 필터/검색 폼 (row + col 구조)
   - 테이블(데스크톱) + 모바일 카드(필요 시)
   - 페이징 영역(선택)
4) **전용 스크립트/스타일**(선택):
   - JS: `/public/js/<카테고리>/<파일>.js` 추가
   - CSS: `/public/css/<카테고리>/<파일>.css` 추가 (필요 시만)

## 3. 사이드바 등록 (sj-sidebar.html)
- 계층: 예) 보험상품 > 대리운전 > KJ대리운전 > 하위 항목
- 새 항목 추가 시:
  - 링크: `<a href="/pages/.../xxx.html" data-menu="xxx">표시명</a>`
  - 서브메뉴는 `menu-title` + `submenu` 블록으로 중첩
- 페이지에서 `initializePage('xxx')`로 호출하면 활성화/인증 체크 연동

## 4. 예시 (KJ 대리운전 하위)
- pageId  파일 경로
  - `kj-driver-search`  `/pages/insurance/kj-driver-search.html`
  - `kj-driver-company`  `/pages/insurance/kj-driver-company.html`
  - `kj-driver-endorse-list`  `/pages/insurance/kj-driver-endorse-list.html`
  - `kj-driver-code-by-policy`  `/pages/insurance/kj-driver-code-by-policy.html`
  - `kj-driver-policy-search`  `/pages/insurance/kj-driver-policy-search.html`
- 각 페이지는 공용 리소스 + 필터/테이블 기본 골격만 포함 (추후 JS로 데이터 연동)

## 5. 최소 HTML 골격 (발췌)
```html
<title>보험 CMS | 상품명 - 화면명</title>
<!-- 폰트/아이콘/Bootstrap/CSS 공용 로드 -->
...
<div id="header-container"></div>
<div id="sidebar-container"></div>
<main class="main-content">
  <div class="container-xl">
    <div class="card">
      <div class="card-header">...</div>
      <div class="card-body">본문/필터/테이블</div>
    </div>
  </div>
</main>
<script src="/js/sj-template-loader.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', async function() {
    await window.sjTemplateLoader.initializePage('<pageId>');
  });
</script>
```

## 6. 체크리스트
- [ ] 사이드바 `data-menu`와 `initializePage`의 pageId 일치 여부 확인
- [ ] 공용 리소스(폰트/FA/Bootstrap/`sj-styles.css`) 로드 여부
- [ ] 헤더/사이드바 컨테이너 존재 여부 (`header-container`, `sidebar-container`)
- [ ] 로딩 오버레이/오류 없이 페이지 로드 확인
- [ ] 전용 JS/CSS가 필요할 때만 추가 (불필요한 신규 CSS 생성 지양)

