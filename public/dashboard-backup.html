<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>보험 CMS | 대시보드</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- AdminLTE CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.2.0/css/adminlte.min.css">
  
  <link rel="stylesheet" href="./css/dashboard.css">
</head>

<body class="hold-transition sidebar-mini layout-fixed">
  <div class="wrapper">
    
    <!-- Preloader -->
    <div class="preloader flex-column justify-content-center align-items-center">
      <img class="animation__shake" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJMMTMuMDkgOC4yNkwyMCA5TDEzLjA5IDE1Ljc0TDEyIDIyTDEwLjkxIDE1Ljc0TDQgOUwxMC45MSA4LjI2TDEyIDJaIiBmaWxsPSIjNjY3ZWVhIi8+Cjwvc3ZnPgo=" alt="AdminLTELogo" height="60" width="60">
    </div>

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
      <!-- Left navbar links -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
        <li class="nav-item d-none d-sm-inline-block">
          <a href="/dashboard.html" class="nav-link">홈</a>
        </li>
      </ul>

      <!-- Right navbar links -->
      <ul class="navbar-nav ml-auto">
        <!-- 현재 시간 -->
        <li class="nav-item">
          <span class="nav-link current-time" id="currentTime"></span>
        </li>
        
        <!-- 알림 -->
        <li class="nav-item dropdown">
          <a class="nav-link" data-toggle="dropdown" href="#">
            <i class="far fa-bell"></i>
            <span class="badge badge-warning navbar-badge" id="notificationCount">0</span>
          </a>
          <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
            <span class="dropdown-item dropdown-header">알림</span>
            <div class="dropdown-divider"></div>
            <div id="notificationList">
              <div class="dropdown-item text-center text-muted">
                <div class="loading-spinner"></div> 알림을 불러오는 중...
              </div>
            </div>
            <div class="dropdown-divider"></div>
            <a href="/admin-approvals.html" class="dropdown-item dropdown-footer">모든 알림 보기</a>
          </div>
        </li>
        
        <!-- 사용자 메뉴 -->
        <li class="nav-item dropdown">
          <a class="nav-link" data-toggle="dropdown" href="#">
            <i class="far fa-user"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
            <div class="dropdown-item dropdown-header" id="userInfo">
              <strong id="userName">사용자</strong><br>
              <small id="userRole" class="text-muted">직원</small>
            </div>
            <div class="dropdown-divider"></div>
            <a href="#" class="dropdown-item">
              <i class="fas fa-user mr-2"></i> 프로필
            </a>
            <a href="#" class="dropdown-item">
              <i class="fas fa-cog mr-2"></i> 설정
            </a>
            <div class="dropdown-divider"></div>
            <a href="#" class="dropdown-item" onclick="logout()">
              <i class="fas fa-sign-out-alt mr-2"></i> 로그아웃
            </a>
          </div>
        </li>
      </ul>
    </nav>

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
      <!-- Brand Logo -->
      <a href="/dashboard.html" class="brand-link">
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMzQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJMMTMuMDkgOC4yNkwyMCA5TDEzLjA5IDE1Ljc0TDEyIDIyTDEwLjkxIDE1Ljc0TDQgOUwxMC45MSA4LjI2TDEyIDJaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K" alt="보험 CMS Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
        <span class="brand-text font-weight-light">보험 CMS</span>
      </a>

      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Sidebar Menu -->
        <nav class="mt-2">
          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
            
            <!-- 대시보드 -->
            <li class="nav-item">
              <a href="/dashboard.html" class="nav-link active">
                <i class="nav-icon fas fa-tachometer-alt"></i>
                <p>대시보드</p>
              </a>
            </li>

            <!-- 직원 관리 (관리자만) -->
            <li class="nav-item" id="adminMenu" style="display: none;">
              <a href="#" class="nav-link">
                <i class="nav-icon fas fa-users"></i>
                <p>
                  직원 관리
                  <i class="fas fa-angle-left right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="/register.html" class="nav-link">
                    <i class="far fa-circle nav-icon"></i>
                    <p>직원 등록</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="/admin-approvals.html" class="nav-link">
                    <i class="far fa-circle nav-icon"></i>
                    <p>가입 승인 관리</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="far fa-circle nav-icon"></i>
                    <p>전체 직원 목록</p>
                  </a>
                </li>
              </ul>
            </li>

            <!-- 출퇴근 관리 -->
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon fas fa-clock"></i>
                <p>
                  출퇴근 관리
                  <i class="fas fa-angle-left right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="far fa-circle nav-icon"></i>
                    <p>근무 스케줄</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="far fa-circle nav-icon"></i>
                    <p>휴가 관리</p>
                  </a>
                </li>
              </ul>
            </li>

            <!-- 업무 관리 -->
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon fas fa-tasks"></i>
                <p>
                  업무 관리
                  <i class="fas fa-angle-left right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="far fa-circle nav-icon"></i>
                    <p>상품 관리</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="far fa-circle nav-icon"></i>
                    <p>KPI 관리</p>
                  </a>
                </li>
              </ul>
            </li>

            <!-- 보고서 -->
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon fas fa-chart-bar"></i>
                <p>보고서</p>
              </a>
            </li>

            <!-- 설정 (관리자만) -->
            <li class="nav-item" id="settingsMenu" style="display: none;">
              <a href="#" class="nav-link">
                <i class="nav-icon fas fa-cog"></i>
                <p>시스템 설정</p>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </aside>

    <!-- Content Wrapper -->
    <div class="content-wrapper">
      <!-- Content Header -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <!--<div class="col-sm-6">
              <h1 class="m-0">대시보드</h1>
            </div>
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item"><a href="#">홈</a></li>
                <li class="breadcrumb-item active">대시보드</li>
              </ol>
            </div>-->
          </div>
        </div>
      </div>

      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          
          <!-- 출퇴근 카드 -->
          <div class="row">
            <div class="col-12">
              <div class="card attendance-card">
                <div class="card-header">
                  <h3 class="card-title">
                    <i class="fas fa-clock mr-2"></i>
                    출퇴근 관리
                  </h3>
                  <div class="card-tools">
                    <span class="current-time" id="cardCurrentTime"></span>
                  </div>
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="row">
                        <div class="col-sm-6 mb-2">
                          <button class="btn attendance-btn btn-block" id="checkinBtn" onclick="checkIn()">
                            <i class="fas fa-sign-in-alt mr-2"></i>
                            출근하기
                          </button>
                        </div>
                        <div class="col-sm-6 mb-2">
                          <button class="btn attendance-btn btn-block" id="checkoutBtn" onclick="checkOut()" disabled>
                            <i class="fas fa-sign-out-alt mr-2"></i>
                            퇴근하기
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="row">
                        <div class="col-4">
                          <div class="status-item">
                            <div class="status-label">출근시간</div>
                            <div class="status-value" id="checkinTime">--:--</div>
                          </div>
                        </div>
                        <div class="col-4">
                          <div class="status-item">
                            <div class="status-label">퇴근시간</div>
                            <div class="status-value" id="checkoutTime">--:--</div>
                          </div>
                        </div>
                        <div class="col-4">
                          <div class="status-item">
                            <div class="status-label">근무시간</div>
                            <div class="status-value" id="workHours">0.0h</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 개인 통계 카드 -->
          <div class="row">
            <div class="col-lg-3 col-6">
              <div class="small-box bg-info">
                <div class="inner">
                  <h3 id="monthlyStats">
                    <div class="loading-spinner"></div>
                  </h3>
                  <p>이번 달 처리 건수</p>
                </div>
                <div class="icon">
                  <i class="fas fa-tasks"></i>
                </div>
                <a href="#" class="small-box-footer">
                  더보기 <i class="fas fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>

            <div class="col-lg-3 col-6">
              <div class="small-box bg-success">
                <div class="inner">
                  <h3 id="avgProcessingTime">
                    <div class="loading-spinner"></div>
                  </h3>
                  <p>평균 처리시간 (분)</p>
                </div>
                <div class="icon">
                  <i class="fas fa-clock"></i>
                </div>
                <a href="#" class="small-box-footer">
                  더보기 <i class="fas fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>

            <div class="col-lg-3 col-6">
              <div class="small-box bg-warning">
                <div class="inner">
                  <h3 id="weeklyHours">
                    <div class="loading-spinner"></div>
                  </h3>
                  <p>이번 주 근무시간</p>
                </div>
                <div class="icon">
                  <i class="fas fa-calendar-week"></i>
                </div>
                <a href="#" class="small-box-footer">
                  더보기 <i class="fas fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>

            <div class="col-lg-3 col-6">
              <div class="small-box bg-danger">
                <div class="inner">
                  <h3 id="achievementRate">
                    <div class="loading-spinner"></div>
                  </h3>
                  <p>목표 달성률 (%)</p>
                </div>
                <div class="icon">
                  <i class="fas fa-trophy"></i>
                </div>
                <a href="#" class="small-box-footer">
                  더보기 <i class="fas fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>
          </div>

          <!-- 관리자 전용 섹션 -->
          <div class="row" id="adminStatsSection" style="display: none;">
            <div class="col-lg-4 col-6">
              <div class="info-box">
                <span class="info-box-icon bg-info"><i class="fas fa-users"></i></span>
                <div class="info-box-content">
                  <span class="info-box-text">전체 직원</span>
                  <span class="info-box-number" id="totalEmployees">
                    <div class="loading-spinner"></div>
                  </span>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-6">
              <div class="info-box">
                <span class="info-box-icon bg-success"><i class="fas fa-user-check"></i></span>
                <div class="info-box-content">
                  <span class="info-box-text">오늘 출근</span>
                  <span class="info-box-number" id="todayAttendance">
                    <div class="loading-spinner"></div>
                  </span>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-6">
              <div class="info-box">
                <span class="info-box-icon bg-warning"><i class="fas fa-user-clock"></i></span>
                <div class="info-box-content">
                  <span class="info-box-text">승인 대기</span>
                  <span class="info-box-number" id="pendingApprovals">
                    <div class="loading-spinner"></div>
                  </span>
                </div>
              </div>
            </div>
          </div>

          <!-- 최근 활동 -->
          <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="card-header">
                  <h3 class="card-title">최근 업무</h3>
                  <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                      <i class="fas fa-minus"></i>
                    </button>
                  </div>
                </div>
                <div class="card-body p-0">
                  <ul class="products-list product-list-in-card pl-2 pr-2" id="recentActivities">
                    <li class="item text-center p-3">
                      <div class="loading-spinner"></div>
                      <span class="ml-2">최근 업무를 불러오는 중...</span>
                    </li>
                  </ul>
                </div>
                <div class="card-footer text-center">
                  <a href="#" class="uppercase">모든 업무 보기</a>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="card">
                <div class="card-header">
                  <h3 class="card-title">공지사항</h3>
                  <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                      <i class="fas fa-minus"></i>
                    </button>
                  </div>
                </div>
                <div class="card-body">
                  <div class="timeline timeline-inverse" id="announcements">
                    <div class="text-center p-3">
                      <div class="loading-spinner"></div>
                      <span class="ml-2">공지사항을 불러오는 중...</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
      <strong>Copyright &copy; 2024 <a href="#">보험 CMS</a>.</strong>
      All rights reserved.
      <div class="float-right d-none d-sm-inline-block">
        <b>Version</b> 1.0.0
      </div>
    </footer>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js"></script>
  <!-- AdminLTE App -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.2.0/js/adminlte.min.js"></script>
 <script src="./js/dashboard.js"></script>

 
</body>
</html>